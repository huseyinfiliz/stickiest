{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@huseyinfiliz/stickiest/webpack/bootstrap","webpack://@huseyinfiliz/stickiest/webpack/runtime/compat get default export","webpack://@huseyinfiliz/stickiest/webpack/runtime/define property getters","webpack://@huseyinfiliz/stickiest/webpack/runtime/hasOwnProperty shorthand","webpack://@huseyinfiliz/stickiest/webpack/runtime/make namespace object","webpack://@huseyinfiliz/stickiest/./src/common/extend.ts","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'forum/app')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/models/Discussion')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/Model')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'forum/components/EventPost')\"","webpack://@huseyinfiliz/stickiest/./src/forum/components/DiscussionStickiestPost.ts","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/components/Badge')\"","webpack://@huseyinfiliz/stickiest/./src/forum/extenders/extendDiscussionBadges.ts","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'forum/utils/DiscussionControls')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@huseyinfiliz/stickiest/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@huseyinfiliz/stickiest/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@huseyinfiliz/stickiest/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@huseyinfiliz/stickiest/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/components/FormModal')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/components/Switch')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/utils/Stream')\"","webpack://@huseyinfiliz/stickiest/./src/forum/components/StickyModal.ts","webpack://@huseyinfiliz/stickiest/./src/forum/extenders/extendDiscussionControls.ts","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'forum/components/DiscussionListItem')\"","webpack://@huseyinfiliz/stickiest/external root \"flarum.reg.get('core', 'common/utils/classList')\"","webpack://@huseyinfiliz/stickiest/./src/forum/extenders/extendDiscussionListItem.ts","webpack://@huseyinfiliz/stickiest/./src/forum/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default [\n  // Common extenders\n];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Discussion');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Model');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/EventPost');","import app from 'flarum/forum/app';\nimport EventPost from 'flarum/forum/components/EventPost';\nexport default class DiscussionStickiestPost extends EventPost {\n  icon() {\n    return app.forum.attribute('huseyinfiliz-stickiest.stickiest_icon') || 'fas fa-star';\n  }\n  descriptionKey() {\n    const content = this.attrs.post.content();\n    if (content != null && content.stickiest) {\n      return 'huseyinfiliz-stickiest.forum.post_stream.discussion_stickiest_text';\n    } else {\n      return 'huseyinfiliz-stickiest.forum.post_stream.discussion_unstickiest_text';\n    }\n  }\n}\nflarum.reg.add('huseyinfiliz-stickiest', 'forum/components/DiscussionStickiestPost', DiscussionStickiestPost);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Badge');","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Badge from 'flarum/common/components/Badge';\nexport default function extendDiscussionBadges() {\n  extend(Discussion.prototype, 'badges', function (badges) {\n    // Super Sticky badge\n    if (this.isStickiest()) {\n      const icon = app.forum.attribute('huseyinfiliz-stickiest.stickiest_icon') || 'fas fa-star';\n      badges.add('stickiest', Badge.component({\n        type: 'stickiest',\n        icon: icon,\n        label: app.translator.trans('huseyinfiliz-stickiest.forum.badge.stickiest_tooltip')\n      }), 15);\n    }\n\n    // Tag Sticky badge (only if not super sticky)\n    if (this.isTagSticky() && !this.isStickiest()) {\n      badges.add('tagSticky', Badge.component({\n        type: 'tagSticky',\n        icon: 'fas fa-thumbtack',\n        label: app.translator.trans('huseyinfiliz-stickiest.forum.badge.tag_sticky_tooltip')\n      }), 12);\n    }\n  });\n}\nflarum.reg.add('huseyinfiliz-stickiest', 'forum/extenders/extendDiscussionBadges', extendDiscussionBadges);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/utils/DiscussionControls');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/FormModal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Switch');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/Stream');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport app from 'flarum/forum/app';\nimport FormModal from 'flarum/common/components/FormModal';\nimport Button from 'flarum/common/components/Button';\nimport Switch from 'flarum/common/components/Switch';\nimport Stream from 'flarum/common/utils/Stream';\nexport default class StickyModal extends FormModal {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"isSticky\", void 0);\n    _defineProperty(this, \"isStickiest\", void 0);\n    _defineProperty(this, \"isTagSticky\", void 0);\n    _defineProperty(this, \"selectedTagIds\", void 0);\n  }\n  oninit(vnode) {\n    var _discussion$isSticky;\n    super.oninit(vnode);\n    const discussion = this.attrs.discussion;\n\n    // canSticky() flarum/sticky yoksa undefined döner\n    this.isSticky = Stream(((_discussion$isSticky = discussion.isSticky) == null ? void 0 : _discussion$isSticky.call(discussion)) || false);\n    this.isStickiest = Stream(discussion.isStickiest() || false);\n    this.isTagSticky = Stream(discussion.isTagSticky() || false);\n    const stickyTagIds = discussion.attribute('stickyTagIds') || [];\n    this.selectedTagIds = Stream(stickyTagIds);\n  }\n  className() {\n    return 'StickyModal Modal--small';\n  }\n  title() {\n    const discussionTitle = this.attrs.discussion.title();\n    return app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.title', {\n      title: m('em', {}, discussionTitle)\n    });\n  }\n  content() {\n    var _tags, _ref, _discussion$canSticky;\n    const discussion = this.attrs.discussion;\n    const discussionTags = ((_tags = (_ref = discussion).tags) == null ? void 0 : _tags.call(_ref)) || [];\n\n    // flarum/sticky yüklü mü kontrol et\n    const hasStickyExtension = typeof discussion.canSticky === 'function';\n    const items = [];\n\n    // Normal Sticky - sadece flarum/sticky yüklüyse göster\n    if (hasStickyExtension && (_discussion$canSticky = discussion.canSticky) != null && _discussion$canSticky.call(discussion)) {\n      items.push(m('.Form-group', {}, [m(Switch, {\n        state: this.isSticky(),\n        onchange: value => {\n          this.isSticky(value);\n          if (value) {\n            this.isStickiest(false);\n            this.isTagSticky(false);\n          }\n        }\n      }, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.sticky_label')), m('p.helpText', {}, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.sticky_help'))]));\n    }\n\n    // Super Sticky\n    if (discussion.canStickiest()) {\n      items.push(m('.Form-group', {}, [m(Switch, {\n        state: this.isStickiest(),\n        onchange: value => {\n          this.isStickiest(value);\n          if (value) {\n            this.isSticky(false);\n          }\n        }\n      }, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.stickiest_label')), m('p.helpText', {}, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.stickiest_help'))]));\n    }\n\n    // Tag Sticky\n    if (discussion.canTagSticky()) {\n      items.push(m('.Form-group', {}, [m(Switch, {\n        state: this.isTagSticky(),\n        onchange: value => {\n          this.isTagSticky(value);\n          if (value) {\n            this.isSticky(false);\n          }\n        }\n      }, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.tag_sticky_label')), m('p.helpText', {}, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.tag_sticky_help'))]));\n    }\n\n    // Tag Seçimi\n    if (discussion.canTagSticky() && this.isTagSticky() && discussionTags.length > 0) {\n      const tagCheckboxes = discussionTags.map(tag => {\n        const tagId = Number(tag.id());\n        return m('label.checkbox', {}, [m('input[type=checkbox]', {\n          checked: this.selectedTagIds().includes(tagId),\n          onchange: e => {\n            const target = e.target;\n            let ids = [...this.selectedTagIds()];\n            if (target.checked) {\n              if (!ids.includes(tagId)) {\n                ids.push(tagId);\n              }\n            } else {\n              ids = ids.filter(id => id !== tagId);\n            }\n            this.selectedTagIds(ids);\n          }\n        }), m('span.TagLabel', {\n          style: {\n            backgroundColor: tag.color() || '#888'\n          }\n        }, tag.name())]);\n      });\n      items.push(m('.Form-group', {}, [m('label', {}, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.select_tags')), m('.StickyModal-tags', {}, tagCheckboxes)]));\n    }\n\n    // Submit Button\n    items.push(m('.Form-group', {}, m(Button, {\n      type: 'submit',\n      className: 'Button Button--primary',\n      loading: this.loading\n    }, app.translator.trans('huseyinfiliz-stickiest.forum.sticky_modal.submit_button'))));\n    return m('.Modal-body', {}, m('.Form', {}, items));\n  }\n  onsubmit(e) {\n    e.preventDefault();\n    this.loading = true;\n    const discussion = this.attrs.discussion;\n    const hasStickyExtension = typeof discussion.canSticky === 'function';\n    const data = {\n      isStickiest: this.isStickiest(),\n      isTagSticky: this.isTagSticky(),\n      stickyTagIds: this.isTagSticky() ? this.selectedTagIds() : []\n    };\n\n    // Sadece flarum/sticky yüklüyse isSticky gönder\n    if (hasStickyExtension) {\n      data.isSticky = this.isSticky() && !this.isStickiest() && !this.isTagSticky();\n    }\n    this.attrs.discussion.save(data).then(() => {\n      this.hide();\n      m.redraw();\n    }).catch(() => {\n      this.loading = false;\n      m.redraw();\n    });\n  }\n}\nflarum.reg.add('huseyinfiliz-stickiest', 'forum/components/StickyModal', StickyModal);","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Button from 'flarum/common/components/Button';\nimport StickyModal from '../components/StickyModal';\nexport default function extendDiscussionControls() {\n  extend(DiscussionControls, 'moderationControls', function (items, discussion) {\n    // Flarum sticky butonunu her zaman kaldır (bizimki onu kapsıyor)\n    if (items.has('sticky')) {\n      items.remove('sticky');\n    }\n\n    // canSticky flarum/sticky'den geliyor, yoksa undefined\n    const canSticky = typeof discussion.canSticky === 'function' ? discussion.canSticky() : false;\n\n    // Bizim sticky butonumuzu ekle\n    if (canSticky || discussion.canStickiest() || discussion.canTagSticky()) {\n      items.add('stickiest', Button.component({\n        icon: 'fas fa-thumbtack',\n        onclick: () => app.modal.show(StickyModal, {\n          discussion\n        })\n      }, app.translator.trans('huseyinfiliz-stickiest.forum.discussion_controls.sticky_button')), 10);\n    }\n  });\n}\nflarum.reg.add('huseyinfiliz-stickiest', 'forum/extenders/extendDiscussionControls', extendDiscussionControls);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/DiscussionListItem');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/classList');","import { extend } from 'flarum/common/extend';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport classList from 'flarum/common/utils/classList';\nexport default function extendDiscussionListItem() {\n  extend(DiscussionListItem.prototype, 'elementAttrs', function (attrs) {\n    const discussion = this.attrs.discussion;\n\n    // isSticky flarum/sticky'den geliyor, yoksa false kabul et\n    const isSticky = typeof discussion.isSticky === 'function' ? discussion.isSticky() : false;\n    attrs.className = classList(attrs.className, {\n      'Stickiest-superSticky': discussion.isStickiest(),\n      'Stickiest-tagSticky': discussion.isTagSticky() && !discussion.isStickiest(),\n      'Stickiest-sticky': isSticky && !discussion.isStickiest() && !discussion.isTagSticky()\n    });\n  });\n}\nflarum.reg.add('huseyinfiliz-stickiest', 'forum/extenders/extendDiscussionListItem', extendDiscussionListItem);","import app from 'flarum/forum/app';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Model from 'flarum/common/Model';\nimport DiscussionStickiestPost from './components/DiscussionStickiestPost';\nimport extendDiscussionBadges from './extenders/extendDiscussionBadges';\nimport extendDiscussionControls from './extenders/extendDiscussionControls';\nimport extendDiscussionListItem from './extenders/extendDiscussionListItem';\nexport { default as extend } from './extend';\n\n// Negatif öncelik = daha sonra çalışır (flarum-sticky'den sonra)\napp.initializers.add('huseyinfiliz-stickiest', () => {\n  // Post component kaydet\n  app.postComponents.discussionStickiest = DiscussionStickiestPost;\n\n  // Model attributes\n  Discussion.prototype.isStickiest = Model.attribute('isStickiest');\n  Discussion.prototype.isTagSticky = Model.attribute('isTagSticky');\n  Discussion.prototype.canStickiest = Model.attribute('canStickiest');\n  Discussion.prototype.canTagSticky = Model.attribute('canTagSticky');\n  Discussion.prototype.stickyTags = Model.hasMany('stickyTags');\n\n  // Extend UI\n  extendDiscussionBadges();\n  extendDiscussionControls();\n  extendDiscussionListItem();\n}, -10);"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","reg","DiscussionStickiestPost","icon","attribute","descriptionKey","content","this","attrs","post","stickiest","add","extendDiscussionBadges","extend","badges","isStickiest","type","label","trans","isTagSticky","_typeof","iterator","constructor","_defineProperty","e","r","t","i","toPrimitive","TypeError","String","toPropertyKey","configurable","writable","StickyModal","super","arguments","oninit","vnode","_discussion$isSticky","discussion","isSticky","stickyTagIds","selectedTagIds","className","title","discussionTitle","m","_tags","_ref","_discussion$canSticky","discussionTags","tags","items","canSticky","push","state","onchange","canStickiest","canTagSticky","length","tagCheckboxes","map","tag","tagId","Number","id","checked","includes","target","ids","filter","style","backgroundColor","color","name","loading","onsubmit","preventDefault","hasStickyExtension","data","save","then","hide","redraw","catch","extendDiscussionControls","has","remove","onclick","show","extendDiscussionListItem","discussionStickiest","stickyTags"],"ignoreList":[],"sourceRoot":""}